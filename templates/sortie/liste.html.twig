{% extends('base.html.twig') %}
{% block title %} Liste des sorties {% endblock %}

{% block body %}

    <h2>Liste des sorties</h2>

    <button type="button" class="btn btn-primary" data-toggle="collapse" data-target="#filtres">Afficher les filtres</button>
    <div id="filtres" class="collapse">
        {{ form_start(form) }}
        {{ form_widget(form) }}
        {{ form_end(form) }}
    </div>


    <div class="row">
        <!--<div class="card-columns align-items-stretch">-->
    {% for sortie in sorties %}
        <div class="col-sm-3 d-flex align-items-stretch">
                <div class="card">
                    {% if sortie.id is divisible by (2) %}
                        <img class="card-img-top" src="{{ asset("images/thabor.jpg") }}" alt="Card image cap">
                    {% else %}
                        <img class="card-img-top" src="{{ asset("images/thabor2.jpg") }}" alt="Card image cap">
                    {% endif %}

                    <div class="card-body">
                        <h5 class="card-title">{{ sortie.nom }}</h5>
                        <p class="card-text">{{ sortie.infosSortie|striptags|slice(0,50) }}
                            {% if sortie.infosSortie|length > 50 %}
                                [...]
                            {% endif %}
                            <br>
                            Inscrits : x/{{ sortie.nbInscriptionMax }}
                            <br>
                            À {{ sortie.Lieu.Ville.Nom }} le {{ sortie.dateHeureDebut|date("d/m/Y") }}
                        </p>

                    </div>
                    <a href="{{ path('page_detail_sortie', {'id' : sortie.id}) }}" class="btn btn-secondary">Plus d'informations</a>
                </div>
        </div>
    {% endfor %}
    <!-- </div> -->
    </div>
    <br>
    <a href="{{ path('page_creer_sortie') }}" class="btn btn-primary">Créer une nouvelle sortie</a>

{% endblock %}